<!DOCTYPE html>
<!--
использованы материалы:

верстка старницы и js: https://code-basics.com/ru/language_categories/layouting
js: https://learn.javascript.ru/hello-world?map

построение графика в js: https://upread.ru/art.php?id=825
простой калькулятор в js: https://thecode.media/calc-js/
часы в js: https://professorweb.ru/my/javascript/js_theory/level2/2_1.php
 https://prowebmastering.ru/clock-js.html
-->

<html lang="ru">
 <head>
 <meta charset="utf-8">
 <title></title>


 <style type="text/css">
 TABLE {
 width: 100%; /* Ширина таблицы */
 border-collapse: collapse; /* Убираем двойные линии между ячейками */
 }
 TD, TH {
 padding: 3px; /* Поля вокруг содержимого таблицы */
 border: 1px solid black; /* Параметры рамки */
 }
 TH {
 background: #b0e0e6; /* Цвет фона */
 }
 </style>

 
<script src="outsourse/plotGraph.js"></script>
 <script src="myLib/1_buttonFunc.js"></script>
 <script src="myLib/2_dataRead.js"></script>
 <script src="myLib/3_complexNumMath.js"></script>
 <script src="myLib/4_complexMatrix4Math.js"></script>
 <script src="myLib/5_calculator.js"></script>
 

 <script>
 var dset = [];
 </script>

 </head>
 <body>
<div style="background: #e1eca4;">
<b>Калькулятор "Прашкевич"</b> (спектры пропускания и отражения света стопкой пластин, март 2024 г.)</br>
Рекомендуемый порядок действий: задать параметры, нажать кнопку, выбрать график</br>
</div>
</br></br>

<div style="display: flex; justify-content: space-around; align-items: flex-start;">
 <div style="display: flex; flex-direction: column; width: 10%;">

 <div>
 <input id="showMediumToScreen" type="checkbox"> показывать параметры <!-- checked="checked" -->
 </br></br>
 </div>
 
 <div>
 <button onclick="solvMassives();">начать расчет</button>
 </div>

 <div>
 </br>расчет длился: </br>
 <span id="report"></span>
 </div>
 
 <p>вывести график</br>
 <select id="plotGraph" onchange="plotter();" >
 <option value="0">T_x</option>
 <option value="1">T_y</option>
 <option value="2">T_r</option>
 <option value="3">T_l</option>
 <option value="4">R_x</option>
 <option value="5">R_y</option>
 <option value="6">R_r</option>
 <option value="7">R_l</option>
 <option value="8">A_x</option>
 <option value="9">A_y</option>
 <option value="10">A_r</option>
 <option value="11">A_l</option>
 </select>
 </p>



 </div>
 
 <div style="display: flex; flex-direction: column; width:85%;">
 <div id="graphWindow" style="width:100%; height:320px;margin:auto;background: #FFFFFF"></div>
 
 <div style="display: flex; justify-content: space-between;">
 <div style="display: flex; justify-content: flex-start; align-items: center;">
 <p>Начальная частота, &omega;<sub>0</sub> (или длина волны, &lambda;<sub>0</sub>)</br><input id="freq0" style="font-family: Courier;" placeholder="0.1" onclick="clean();" /></p>
 </div>
 <div style="display: flex; align-items: center; justify-content: center">
 <p>Количество точек на O<sub>x</sub>, шт</br><input id="xPointNum" style="font-family: Courier;" placeholder="50" onclick="clean();" /></p> 
 
 </div>
 <div style="display: flex; justify-content: flex-end; align-items: center;">
 <p>Конечная частота, &omega;<sub>1</sub> (или длина волны, &lambda;<sub>1</sub>)</br><input id="freq1" style="font-family: Courier;" placeholder="2&pi;/0.1 = 62.831853" onclick="clean();" /></p>
 </div>
 <div style="display: flex; flex-direction: row; justify-content: flex-end; align-items: center;">
 <input id="lambda" type="radio" name="question" value="lambda">
 <label for="lambda">&lambda;</label>
 
 <input id="omega" type="radio" name="question" value="omega" checked="checked" >
 <label for="omega">&omega;</label>
 </div>
 </div>
 </div>
</div>


<div style="background: #e1eca4;">
===============</br>
задать параметры сред</br>
===============</br>
синтаксис:
<b> d ; 
&epsilon; ; 
&sigma; ; 
&mu; ; 
&epsilon;<sub>&perp;</sub> ; 
&sigma;<sub>&perp;</sub> ; 
&mu;<sub>&perp;</sub> ; 
&phi;<sub>0</sub> ; 
q ; 
&sigma;<sub>m</sub> ; 
&sigma;<sub>&perp;m</sub> </b> </br> (можно скопировать строку "синтаксис" в окно и заменить любые символы числами) </br> 
</br>

параметры начальной среды (по умолчанию задан вакуум, &epsilon; = 1.0):</br>
<input id="primaryMedium" type="text" style="width: 500px; font-family: Courier;" onclick="clean();"
placeholder="; 1.0" >
</br></br>
 

параметры стопки пластин (по умолчанию задан слой вакуума с нулевой толщиной, d = 0.0):</br>
<textarea id="plateMedium" style="width: 500px; font-family: Courier;" rows="5" onclick="clean();"
placeholder="0.0"
></textarea>
</br></br>

параметры конечной среды (по умолчанию задан вакуум, &epsilon; = 1.0):</br>
<input id="finalMedium" type="text" style="width: 500px; font-family: Courier;" onclick="clean();"
placeholder="; 1.0">
</br>===============
</div>

</br></br>
===============</br>
"Подвал" Прашкевича</br>
===============</br></br>

0. <a target="_blank" href="docs/calc_doc.pdf">Ссылка</a> на <b>подробное описание решения задачи</b></br>
</br>

1. <b>Краткое описание</b> </br>
Плоская электромагнитная волна падает по нормали на стопку пластин. Вы задаете параметры стопки, а Прашкевич
вычисляет долю отраженной энергии <b>R</b>, долю пропущенной энергии <b>T</b> и долю поглощенной энергии <b>A</b>.</br>
Такие вычисления нужны людям, которые ищут нефть (пуляют радиоволны в недра, а потом ловят, что прилетело обратно), смотрят
сквозь слоистые облака на звезды, делают очки с просветленной оптикой или жидкокристаллические мониторы или неотражающие
слоистые покрытия для плащей-невидимок (но это не точно). Учат таким вычислениям в ВУЗах, предмет называется "Матричная оптика":
методичка <a target="_blank" href="docs/Saratov.pdf">из Саратова</a> (2017 г.), 
методичка <a target="_blank" href="docs/Perm.pdf">из Перми</a> (2022 г.) ... </br>
</br>

2. <b>Что за графики рисует Прашкевич</b></br>
На графиках Прашкевич рисует по иксу частоту (если Вы выберете <b>&lambda;</b>, то Прашкевич нарисует длину волны), а по игреку -
доли энергии <b>T</b>, <b>R</b>, <b>A</b>.</br></br>

Буквы <b>T</b>, <b>R</b>, <b>A</b> снабжены индексами. Они означают поляризацию того света, который Прашкевич пустил на стопку пластин:
<b>x</b> и <b>y</b> - линейные поляризации (по иксу и по игреку), а <b>r</b> и <b>l</b> - круговые (правая и левая).</br>
- Если все Ваши пластины изотропны, то <b>T</b>, <b>R</b>, <b>A</b> не зависят от поляризации света
и индексы не играют никакой роли.</br>

- Если Вы задали пластину, поглощающую свет, то <b>A</b>: <b>A</b> = 1 - (<b>T</b> + <b>R</b>) - окажется не равна нулю
(а в средах без поглощения она покажет численную погрешность расчета).</br>

- Если какая-то пластина из стопки анизотропна
(оптическая ось лежит в плоскости O<sub>xy</sub>, а свет распространяется вдоль O<sub>z</sub>), 
то <b>T<sub>x</sub></b>, <b>R<sub>x</sub></b>, <b>A<sub>x</sub></b> могут отличаться от
 <b>T<sub>y</sub></b>, <b>R<sub>y</sub></b>, <b>A<sub>y</sub></b> (разные поляризации света проходят через стопку по-разному).</br>
- Если направление оптической оси в какой либо анизотропной пластине зависит от z-координаты, то по-разному проходят волны с круговыми поляризациями: 
<b>T<sub>r</sub></b>, <b>R<sub>r</sub></b>, <b>A<sub>r</sub></b>
отличаются от <b>T<sub>l</sub></b>, <b>R<sub>l</sub></b>, <b>A<sub>l</sub></b>.</br>

<i></br>--- примечание ---</br>
Прашкевич понимает только один тип нетривиальной зависимости направления оптической оси от координаты - гармонический,
где с ростом z-координаты ось вращается в плоскости O<sub>xy</sub>
с пространственной частотой q
 (т.н. анизотропия холестерического жидкого кристалла), решение задачи для одной такой пластины описано в литературе: </br>
* Kats E.I. Optical properties of cholesteric liquid crystals // Soliet Phisics JETP. 1971. Vol. 32. pp. 1004-1007.</br>
* Berreman D.W. Optics in stratified and anisotropic media: 4Х4-matrix formulation // Journal of the Optical Society of America. 1972. Vol. 62. pp. 502-510.</br>
(однако большим количеством тонких пластин с постоянным направлением оптической оси можно задать Прашкевичу произвольную зависимость направления оптической оси от z-координаты)</br>
--- конец примечания ---</i></br></br>

3. <b>Параметры, которые задаете Вы</b></br>
Прашкевич понимает только безразмерные параметры. Если Вы просто хотите поиграть, то можно задавать любые параметры -
Прашкевич поиграет с Вами. Но если Вам надо для дела, и у Вас параметры размерные, то придется их обезразмерить.
 Для этого Вы сначала выбираете на свой вкус какую-нибудь длину R<sup>*</sup>
 (например, это может быть толщина первой пластины из стопки, или особенная длина волны, которая Вас больше всего интересует)
 и переводите свои параметры в систему СГС,
 а уже из системы СГС переводите в безразмерные, пользуясь формулами,
 которые приведены в табличках ниже: звездочкой помечены размерные параметры, 
и при этом c<sup>*</sup> = 3&sdot;10<sup>10</sup> см/с - скорость света в вакууме в системе СГС.</br>
</br>
3.1 <b>Параметры графика</b></br>
Под графиком есть три окна и кнопка выбора - что следует отображать по оси абсцисс (по умолчанию выбрана частота &omega;,
можно выбрать длину волны &lambda;, которая &lambda; = 2&pi;/&omega;).</br>
Не баг, но фича - эти три окна не понимают "десятичную запятую", они понимают только "десятичную точку":
число "3,14" не считывается, число "3.14" считывается; отрицательные числа считываются.
 <table>
 <thead>
 <tr>
 <th width=5%>символ</th>
 <th width=10%>значение по умолчанию</th>
 <th width=10%>ед. изм.</th>
 <th width=20%>ф-ла вычисления из размерных параметров</th>
 <th width=60%>описание</th>
 </tr>
 </thead
 <tbody>
 <tr>
 <td>&omega;</td>
 <td>&omega;<sub>0</sub> = 0.1 </br>&omega;<sub>1</sub> = 62.831853 </br>(&asymp; 2&pi;/&lambda;<sub>0</sub>)</td>
 <td> --- </td>
 <td>= &omega;<sup>*</sup> &sdot; R<sup>*</sup> / c<sup>*</sup></td>
 <td>круговая частота - количество колебаний за 2&pi; секунд</td>
 </tr>
 <tr> 
 <td>&lambda;</td>
 <td>&lambda;<sub>0</sub> = 0.1 </br>&lambda;<sub>1</sub> = 62.831853 </br>(&asymp; 2&pi;/&omega;<sub>0</sub>)</td>
 <td> --- </td>
 <td>= &lambda;<sup>*</sup> / R<sup>*</sup> </td>
 <td>длина волны в вакууме</td>
 </tr>
 <tr> 
 <td>N</td>
 <td>50</td>
 <td>шт.</td>
 <td> --- </td>
 <td>количество точек на оси абсцисс (чем их больше, тем дольше занят счетом Ваш компьютер)</td>
 </tr>
 </tbody>
 </table>
</br>
3.2 <b>Параметры сред</b></br>
В верхнем окне "параметры начальной среды" а также и в нижнем окне "параметры конечной среды" задается одна строка с параметрами.</br>
В среднем окне "параметры стопки пластин" можно задать много строк -
каждая строка описывает одну пластину (чем больше строк, тем дольше занят счетом Ваш компьютер).
Порядок строк важен: свет на стопку падает "сверху вниз".</br>
</br>
В строке параметры пластины разделены точкой с запятой и расположены в следующем порядке (всего 11 параметров):</br>
<b> d ; 
&epsilon; ; 
&sigma; ; 
&mu; ; 
&epsilon;<sub>&perp;</sub> ; 
&sigma;<sub>&perp;</sub> ; 
&mu;<sub>&perp;</sub> ; 
&phi;<sub>0</sub> ; 
q ; 
&sigma;<sub>m</sub> ; 
&sigma;<sub>&perp;m</sub> </b></br>
</br>
 <table>
 <thead>
 <tr>
 <th width=5%>символ</th>
 <th width=10%>значение по умолчанию</th>
 <th width=10%>ед. изм.</th>
 <th width=20%>ф-ла вычисления из размерных параметров</th>
 <th width=60%>описание</th>
 </tr>
 </thead
 <tbody>
 <tr><td><b> d </b> </td> <td> 0 </td> <td> --- </td> <td> = d<sup>*</sup> / R<sup>*</sup> </td> <td> толщина пластины </td> </tr>
 <tr><td><b> &epsilon; </b> </td> <td> 1 </td> <td> --- </td> <td> --- </td> <td> диэлектрическая проницаемость, &epsilon; = &epsilon;<sub>&parallel;</sub> для анизотропных сред </td> </tr>
 <tr><td><b> &sigma; </b> </td> <td> 0 </td> <td> --- </td> <td> = 4&pi;&sigma;<sup>*</sup> &sdot; R<sup>*</sup> / c<sup>*</sup> </td> <td> проводимость (отвечает за поглощение), &sigma; = &sigma;<sub>&parallel;</sub> для анизотропных сред </td> </tr> 
 <tr><td><b> &mu; </b> </td> <td> 1 </td> <td> --- </td> <td> --- </td> <td> магнитная проницаемость, &mu; = &mu;<sub>&parallel;</sub> для анизотропных сред </td> </tr> 
 <tr><td><b> &epsilon;<sub>&perp;</sub> </b> </td> <td> 1 </td> <td> --- </td> <td> --- </td> <td> диэлектрическая проницаемость поперек направления оптической оси </td> </tr> 
 <tr><td><b> &sigma;<sub>&perp;</sub> </b> </td> <td> 0 </td> <td> --- </td> <td> = 4&pi;&sigma;<sub>&perp;</sub><sup>*</sup> &sdot; R<sup>*</sup> / c<sup>*</sup> </td> <td> проводимость поперек направления оптической оси (дихроизм) </td> </tr> 
 <tr><td><b> &mu;<sub>&perp;</sub> </b> </td> <td> 1 </td> <td> --- </td> <td> --- </td> <td> магнитная проницаемость поперек направления оптической оси </td> </tr> 
 <tr><td><b> &phi;<sub>0</sub> </b> </td> <td> 0 </td> <td>"пи-радиан"</td> <td> = &phi;<sub>0</sub><sup>*</sup> / &pi; </td> <td> угол между оптической осью и О<sub>x</sub> (в начале пластины) </td> </tr> 
 <tr><td><b> q </b> </td> <td> 0 </td> <td> --- </td> <td> = q<sup>*</sup> &sdot; R<sup>*</sup> </td> <td> пространственная частота вращения оптической оси... сама же оптическая ось у Прашкевича - это вектор <b>n</b> единичной длины: n<sub>x</sub>(z) = cos(q&sdot;z+&phi;<sub>0</sub>), n<sub>y</sub>(z) = sin(q&sdot;z+&phi;<sub>0</sub>). В этом выражении у Прашкевича z - это локальная координата, Прашкевич отсчитывает ее от начала каждой пластины, а не от глобального начала координат (ему кажется, что Вам так будет удобнее задавать начальный угол &phi;<sub>0</sub>). Отрицательное значение q задает вращение по часовой стрелке </td> </tr> 
 <tr><td><b> &sigma;<sub>m</sub></b> </td> <td> 0 </td> <td> --- </td> <td> = 4&pi;&sigma;<sub>m</sub><sup>*</sup> &sdot; R<sup>*</sup> / c<sup>*</sup> </td> <td> проводимость гипотетических магнитных зарядов (метаматериалы), &sigma;<sub>m</sub> = &sigma;<sub>&parallel;m</sub> для анизотропных сред</td> </tr> 
 <tr><td><b> &sigma;<sub>&perp;m</sub> </b> </td> <td> 0 </td> <td> --- </td> <td> = 4&pi;&sigma;<sub>&perp;m</sub><sup>*</sup> &sdot; R<sup>*</sup> / c<sup>*</sup> </td> <td> проводимость гипотетических магнитных зарядов поперек направления оптической оси (дихроизм метаматериалов) </td> </tr> 
 </tbody>
 </table>
</br>
Для анизотропных сред индекс "&parallel;" - означает значение величины вдоль оптической оси,
индекс "&perp;" - значение величины поперек оси.</br>

Для изотропных сред: 
&epsilon; = &epsilon;<sub>&parallel;</sub> = &epsilon;<sub>&perp;</sub>, 
&sigma; = &sigma;<sub>&parallel;</sub> = &sigma;<sub>&perp;</sub>, 
&mu; = &mu;<sub>&parallel;</sub> = &mu;<sub>&perp;</sub>, 
&phi;<sub>0</sub> = любое, 
q = любое, 
&sigma;<sub>m</sub> = &sigma;<sub>&parallel;m</sub> = &sigma;<sub>&perp;m</sub>.</br></br>
Прашкевич из каждой строки пытается получить 11 чисел по следующему алгоритму.
Он перебирает все символы в строке слева направо. Дойдя до знака ";" или до конца строки он полагает, что здесь оканчивается число.
Если он не может интерпретировать символы между разделителями ";"
как число, то он оставляет параметр, заданный по умолчанию.
Кроме того, чтобы Вам меньше писать, <b>Прашкевич по умолчанию полагает, что пластина будет изотропной</b> (так чаще всего и бывает),
поэтому, считав &epsilon;, он приравнивает ее к &epsilon;<sub>&perp;</sub>, а считав далее из строки
Ваше значение &epsilon;<sub>&perp;</sub> (если Вы его задали), он честно его перезаписывает (это же касается
и других анизотропных параметров: &sigma;, &mu;, &sigma;<sub>m</sub>).</br>

То есть, места между разделителями ";" Вы можете оставлять пустыми или заполнять произвольным набором символов,
а также можно не писать ненужный "хвост строки" - тогда параметры останутся по умолчанию (изотропными).</br>

Над кнопкой "начать расчет" есть галочка "показать параметры" -
 перед расчетом Прашкевич покажет на экране, как он считал строки - здесь он также указывает общее количество строк
 из всех трех окон (начальная среда, стопка пластин, конечная среда). Например,
 по умолчанию сверху и снизу от стопки находится вакуум, а стопка состоит из
пластины вакуума нулевой толщины - по умолчанию всего три строки.</br>
</br>

Еще нюанс. 
У параметров окружающих сред (окна "параметры начальной среды" и "параметры конечной среды") есть одно отличие от параметров пластин в стопке - Прашкевич полагает, что среды, которые находятся
сверху и снизу от стопки, это такие "пластины", которые всегда изотропны и имеют бесконечную толщину,
то есть он считывает всё, но использует в расчетах только &epsilon;, &sigma;, &mu;.
И в упомянутых окнах в самом начале строки, на месте первого параметра "толщина пластины d", можно поставить
любое число, любое количество символов, или вообще ничего не писать, а оставить только точку с запятой
(между параметрами вообще всегда надо ставить точки с запятой):</br>
<b>; 
&epsilon;; 
&sigma;; 
&mu;
</b> </br>(можно скопировать эту строчку в окно и заменить любые символы числами).</br>
</br>

4. <b>Примеры задания параметров</b> </br>
</br>

4.1. <b>"Граница раздела двух сред"</b></br>
Описание задачи: сверху среда с диэлектрической проницаемостью &epsilon; = 2, снизу металл с проводимостью &sigma; = 10,
а стопки никакой нет (у стопки по умолчанию нулевая толщина).</br>

 <table>
 <thead>
 <tr>
 <th width=100% style="background: #F08080;" colspan="2">Ставим задачу Прашкевичу</th>
 </tr>
 </thead
 <tbody>
 <tr>
 <td width=30%>в окно <b>"параметры начальной среды"</b> копируем (ctrl+c, ctrl+v) прямо всю эту строку:</td>
 <td>

 [на месте первого параметра "толщина" у начальной и конечной среды могут быть любые символы или ни одного] ; 
 2; 
 &sigma;; 
 &mu;

 </td>
 </tr>

 <tr>
 <td width=30%>окно <b>"параметры стопки пластин"</b></td>
 <td>
 оставляем пустым
 </td>
 </tr>

 <tr>
 <td width=30%>в окно <b>"параметры конечной среды"</b> копируем строку:</td>
 <td>

 ; 
 &epsilon;; 
 10; 
 &mu;

 </td>
 </tr>

 <tr colspan="2">
 <td>нажимаем галку <b>"показывать параметры"</b></td> <td> </td>
 </tr>

 <tr>
 <td>нажимаем кнопку <b>"начать расчет"</b></td> <td> наблюдаем в выпавшем окне три строки (верхняя среда, пластина с нулевой толщиной, нижняя среда) </td>
 </tr>

 <tr>
 <td colspan="2">смотрим как <b>под кнопкой</b> "начать расчет" появилось число - время, затраченное Вашим компьютером на расчет - это означает, что расчет закончен</td> 
 </tr>

 </tbody>
 </table>

Теперь смотрим, что насчитал Прашкевич: нажимаем на окошко <b>"вывести график"</b> и выбираем что-нибудь,
а стрелками на клавиатуре можно переключать графики (поглощение равно нулю, потому что поглощение, вообще-то, вычисляется в пластине,
а она у нас в этом примере имеет нулевую толщину).</br></br>

4.2. <b>Слой "метавакуума"</b> (задание одиннадцатого параметра)</br>
Описание задачи: допустим, что у нас есть материал толщиной d = 3, который очень похож на вакуум, но с гипотетическими магнитными зарядами,
причем проводимость магнитных зарядов проявляет себя только поперек оптической оси
(ось по умолчанию направлена вдоль O<sub>x</sub>: <b> &phi;<sub>0</sub> </b> = 0 ):
<b> &sigma;<sub>&perp;m</sub> </b> = 5. </br>

 <table>
 <thead>
 <tr>
 <th width=100% style="background: #F08080;" colspan="2">Ставим задачу Прашкевичу</th>
 </tr>
 </thead
 <tbody>
 <tr>
 <td width=30%> окно <b>"параметры начальной среды"</b>:</td>
 <td>
 оставляем пустым
 </td>
 </tr>

 <tr>
 <td width=30%>в окно <b>"параметры стопки пластин"</b> копируем на выбор одну из двух строк (можно удалить ненужные символы,
 оставив только разделители ";" - Прашкевич поймет одинаково):</td>
 <td>

<b>3</b> ;
<b> &epsilon; </b> ;
<b> &sigma; </b> ;
<b> &mu; </b> ;
<b> &epsilon;<sub>&perp;</sub> </b> ;
<b> &sigma;<sub>&perp;</sub> </b> ;
<b> &mu;<sub>&perp;</sub> </b> ;
<b> &phi;<sub>0</sub> </b> ;
<b> q </b> ; 
<b> &sigma;<sub>m</sub></b> ;
<b>5</b>
</br> 
<b>3</b> ;
 ;
 ;
 ;
 ;
 ;
 ;
 ;
 ; 
 ;
<b>5</b>

 </td>
 </tr>

 <tr>
 <td width=30%> окно <b>"параметры конечной среды"</b>:</td>
 <td>
 оставляем пустым
 </td>
 </tr>


 <tr>
 <td colspan="2">нажимаем кнопку <b>"начать расчет"</b></td> 
 </tr>



 </tbody>
 </table>
</br>

4.3. <b>"Диэлектрическое зеркало или фотонный кристалл"</b> (100 слоев) </br>
Описание задачи: задать стопку из ста диэлектрических пластин.</br>
Толщина у всех пластин будет одинакова, d = 1, а диэлектрических проницаемостей будет две:
у первой пластинки &epsilon;<sub>1</sub> = 2, а у второй пластинки &epsilon;<sub>2</sub> = 3. И таких парочек мы сделаем пятьдесят штук (будет стопка из ста пластин). </br>

 <table>
 <thead>
 <tr>
 <th width=100% style="background: #F08080;" colspan="2">Ставим задачу Прашкевичу</th>
 </tr>
 </thead
 <tbody>
 <tr>
 <td width=30%> окно <b>"параметры начальной среды"</b>:</td>
 <td>
 оставляем пустым
 </td>
 </tr>

 <tr>
 <td width=30%>в окно <b>"параметры стопки пластин"</b> копируем пятьдесят раз эти две строки - сразу обе
 (чтобы получилось сто строк + сами появятся еще две строки: 
 начальная и конечная среды, которые "вакуум по умолчанию"):</td>
 <td>

 1;2; [если Прашкевич не считывает числа, он оставляет параметры по умолчанию, т.е. можно копировать прямо с этим текстом - он же не число] </br>
 1;3 </br>
 
 </td>
 </tr>

 <tr>
 <td width=30%> окно <b>"параметры конечной среды"</b>:</td>
 <td>
 оставляем пустым
 </td>
 </tr>

 <tr>
 <td width=30%> в окно <b>"начальная частота, &omega;<sub>0</sub>"</b> вставляем значение:</td>
 <td>
 2
 </td>
 </tr>
 
 <tr>
 <td width=30%> в окно <b>"конечная частота, &omega;<sub>1</sub>"</b> вставляем значение:</td>
 <td>
 4
 </td>
 </tr>
 
 <tr>
 <td width=30%> в окно <b>"Количество точек на O<sub>x</sub>, шт"</b> вставляем значение:</td>
 <td>
 500
 </td>
 </tr>

 <tr>
 <td colspan="2">нажимаем кнопку <b>"начать расчет"</b></td> 
 </tr>

 </tbody>
 </table>
Расчет продлится несколько секунд. График отражения покажет, что в районе значения &omega; = 3 имеется интервал частот, которые полностью отражаются - 
это полное отражение непрерывного интервала частот называется "одномерный фотонный кристалл" (стопка, конечно, так называется, а не отражение). Если попросить Прашкевича
посчитать поподробнее в маленькой &Delta;-окрестности точки &omega; = 3, то можно увидеть подробности:
кое-что всё таки пропускается.</br>
</br> 

4.4. <b>Один поляризатор, два скрещенных поляризатора</b> </br>
Описание задачи "один поляризатор": задать одну пластину-поляризатор (пластина должна поглощать одну из двух линейных поляризаций, а другую - не поглощать). То есть надо задать ненулевую проводимость поперек 
оптической оси: <b> &sigma;<sub>&perp;</sub> </b> (у нас она будет равна 10, и не забываем про толщину пластины - у нас <b>d</b> = 2). </br>

 <table>
 <thead>
 <tr>
 <th width=100% style="background: #F08080;" colspan="2">Ставим задачу Прашкевичу</th>
 </tr>
 </thead
 <tbody>
 <tr>
 <td width=30%>в окно <b>"параметры стопки пластин"</b> копируем:</td>
 <td>
 <b> 2 ; 
&epsilon; ; 
&sigma; ; 
&mu; ; 
&epsilon;<sub>&perp;</sub> ; 
10 ; </b>
(&mu;<sub>&perp;</sub> ; 
&phi;<sub>0</sub> ; 
q ; 
&sigma;<sub>m</sub> ; 
&sigma;<sub>&perp;m</sub> - этот хвост с незаданными параметрами можно не писать, а можно копировать строку вместе с этим текстом)
 
 </td>
 </tr>

 </tbody>
 </table>
В расчете можно видеть, что <b>T<sub>x</sub></b> (пропускание света стопкой) - для всех частот равен единице (есть некоторая численная погрешность), а <b>T<sub>y</sub></b> - 
падает до нуля с увеличением частоты. То есть, такая пластина одну поляризацию пропускает свободно, а другую "притормаживает".</br></br>

Описание задачи "два скрещенных поляризатора": задать два поляризатора крест-накрест. То есть, мы добавим к первой пластине точно такую же, 
но повернем ей оптическую ось <b>&phi;<sub>0</sub></b> на &pi;/2 (<b>&phi;<sub>0</sub></b> = 0.5 "пи-радиан" ). </br>
 <table>
 <thead>
 <tr>
 <th width=100% style="background: #F08080;" colspan="2">Ставим задачу Прашкевичу</th>
 </tr>
 </thead
 <tbody>
 <tr>
 <td width=30%>в окно <b>"параметры стопки пластин"</b> копируем:</td>
 <td>
<b> 2 ; 
&epsilon; ; 
&sigma; ; 
&mu; ; 
&epsilon;<sub>&perp;</sub> ; 
10 ; 
&mu;<sub>&perp;</sub> ; 
&phi;<sub>0</sub> ; 
q ; 
&sigma;<sub>m</sub> ; 
&sigma;<sub>&perp;m</sub> </b> </br>


<b> 2 ; 
&epsilon; ; 
&sigma; ; 
&mu; ; 
&epsilon;<sub>&perp;</sub> ; 
10 ; 
&mu;<sub>&perp;</sub> ; 
0.5 ; 
q ; 
&sigma;<sub>m</sub> ; 
&sigma;<sub>&perp;m</sub> </b> </br>
 
 </td>
 </tr>

 </tbody>
 </table>
Расчет показывает, что в стопке, которую мы назвали "два скрещенных поляризатора", обе поляризации затухают с ростом частоты.
</br></br>


4.5. <b>Слой холестерика</b> (сравниваем Прашкевича с другими, на примере расчета слоя холестерического жидкого кристалла) </br>
</br>

- Задача <a target="_blank" href="docs/Wohler.pdf">Вохлер (1988)</a>. В статье у Вохлера есть рисунок "Fig.1" 
(с графиками отражения <b>R</b>) и текст, из которого можно понять, что Вохлер задавал своей пластине такие параметры: </br>
<b> d </b> = 10, 
<b> &epsilon; </b> = 2, 
<b> &epsilon;<sub>&perp;</sub> </b> = 3,
<b> q </b> = 2&pi;. </br> 
 <table>
 <thead>
 <tr>
 <th width=100% style="background: #F08080;" colspan="2">Ставим задачу Прашкевичу</th>
 </tr>
 </thead
 <tbody>
 <tr>
 <td width=30%>в окно <b>"параметры стопки пластин"</b> копируем:</td>
 <td>
<b> 10 ; 
2 ; 
&sigma; ; 
&mu; ; 
3 ; 
&sigma;<sub>&perp;</sub> ; 
&mu;<sub>&perp;</sub> ; 
&phi;<sub>0</sub> ; 
6.283 ; 
&sigma;<sub>m</sub> ; 
&sigma;<sub>&perp;m</sub> </b> </br>
 
 </td>
 </tr>


 <tr>
 <td width=30%> под графиком справа в окошке выбора <b>&lambda; / &omega;</b> выбираем как у Вохлера:</td>
 <td>
 <b>&lambda;</b>
 </td>
 </tr>
 
 <tr>
 <td width=30%> в окно <b>&lambda; <sub>0</sub></b> вставляем как у Вохлера:</td>
 <td>
 <b>1</b>
 </td>
 </tr>
 
 <tr>
 <td width=30%> в окно <b>&lambda; <sub>1</sub></b> вставляем как у Вохлера:</td>
 <td>
 <b>2</b>
 </td>
 </tr>
 <tr>
 <td width=30%> в окно <b>"Количество точек на O<sub>x</sub>, шт"</b> вставляем значение:</td>
 <td>
 500
 </td>
 </tr>
 </tbody>
 </table>
Из расчета видно, что Прашкевич лучше Вохлера - абсциссы экстремумов качественно совпадают, однако абсолютные значения ординат различаются.
Наверное, у Вохлера в 1988 году не было компьютера.</br>
</br>

- Задача <a target="_blank" href="docs/2012_minko.pdf">Минько (2012)</a>. В статье
у Минько есть рисунок "Рис.3" 
(с графиком коэффициента пропускания) и текст, из которого можно понять, что Минько решал следующую задачу. </br>
Слой холестерика с коэффициентами преломления: n<sub>&parallel;</sub> = 1.46, n<sub>&perp;</sub> = 1.53,
шагом спирали 0.33 мкм и толщиной 6 мкм обложен сверху и снизу стеклянной средой с n = 1.5.
График построен для длин волн от 440 нм до 560 нм.
 <table>
 <thead>
 <tr>
 <th width=100% style="background: #F08080;" colspan="2">Ставим задачу Прашкевичу</th>
 </tr>
 </thead
 <tbody>

 <tr>
 <td width=30%>переводим параметры Минько в безразмерные:</td>

 <td>
выбираем длину обезразмеривания R<sup>*</sup> = 1 мкм.</br></br>

<b> &epsilon;</b> = n<sup>2</sup> </br>
для окружающих сред (стекла): <b> &epsilon;</b> = 1.5<sup>2</sup> = 2.25 </br></br>

для холестерика: </br>
<b> &epsilon;</b> = <b> &epsilon;<sub>&parallel;</sub></b> = 1.46<sup>2</sup> = 2.1316 </br>
<b> &epsilon;<sub>&perp;</sub></b> = 1.53<sup>2</sup> = 2.3409 </br>
<b>d</b> = 6 </br>
<b>q</b> = 2&pi;/(шаг спирали) = 2&pi;/0.33 = 19.04</br></br>

для интервала оси абсцисс графика:</br>
<b>&lambda;<sub>0</sub></b> = 0.44</br>
<b>&lambda;<sub>1</sub></b> = 0.56
 </td>
 </tr>

 <tr>
 <td width=30%>в окна <b>"параметры начальной среды"</b> и <b>"параметры конечной среды"</b> копируем строку:</td>
 <td>
 <b>
 ; 
 2.25; 
 &sigma;; 
 &mu;
 </b>
 </td>
 </tr>
       
 <tr>
 <td width=30%>в окно <b>"параметры стопки пластин"</b> копируем:</td>

 <td>
<b> 6 ; 
2.1316 ; 
&sigma; ; 
&mu; ; 
2.3409 ; 
&sigma;<sub>&perp;</sub> ; 
&mu;<sub>&perp;</sub> ; 
&phi;<sub>0</sub> ; 
19.04 ; 
&sigma;<sub>m</sub> ; 
&sigma;<sub>&perp;m</sub> </b> </br>
 
 </td>
 </tr>

 <tr>
 <td width=30%> под графиком справа в окошке выбора <b>&lambda; / &omega;</b> выбираем как у Минько:</td>
 <td>
 <b>&lambda;</b>
 </td>
 </tr>
 
 <tr>
 <td width=30%> в окно <b>&lambda; <sub>0</sub></b> вставляем как у Минько:</td>
 <td>
 <b>0.44</b>
 </td>
 </tr>
 
 <tr>
 <td width=30%> в окно <b>&lambda; <sub>1</sub></b> вставляем как у Минько:</td>
 <td>
 <b>0.56</b>
 </td>
 </tr>
 <tr>
 <td width=30%> в окно <b>"Количество точек на O<sub>x</sub>, шт"</b> вставляем значение:</td>
 <td>
 500
 </td>
 </tr>
 </tbody>
 </table>
После расчета выводим график отражения правой круговой волны <b>R<sub>r</sub></b> - и наблюдаем схожесть
 с графиком Минько (немного не совпадают экстремумы в районе значения 480 на оси абсцисс).
НО! у Минько на оси ординат заявлено пропускание, а не отражение. Размышляем над этим - может быть Прашкевич перепутал
отражение с пропусканием?! Вспоминаем задачу 4.3. - там Прашкевич ничего не путал
(зеркало всё отражало, как положено). Вспоминаем задачу 4.5. "Вохлер" - там Прашкевич тоже не путал отпражение с пропусканием.
Значит, перепутал Минько (если внимательно приглядеться к "Рис.3", то можно заметить, что на рисунке ось ординат подписана,
как "коэффициент пропускания", а в подписи к самому рисунку написано "спектр отражения").
Что касается несовпадения экстремумов у Минько и Прашкевича, то это скорее всего связано с тем, что в статье шаг спирали (0,33)
указан грубее, чем тот, который на самом деле использовался для получения графика на "Рис.3" - если предположить, что Минько в
расчете задал шагу спирали значение 1/3, а не заявленное в статье 0,33, то пространственная частота у нас
будет: <b>q</b> = (2&pi; / [шаг спирали]) = 6&pi; &asymp; <b>18.8495559</b>.
Короче говоря, если задать Прашкевичу <b>q = 18.8495559</b> (вместо 19.04), то график Прашкевича идеально совпадет с графиком Минько на "Рис.3".
</br>
</br>

- Задача <a target="_blank" href="docs/2000_Gevorgyan.pdf">Геворгян (2000)</a>. В статье
у Геворгяна есть рисунок "Рис.1,a" 
(с графиками коэффициента отражения) и текст к рисунку, из которого можно понять, что Геворгян решал следующую задачу.</br>
* Верхняя среда: вакуум (n<sub>0</sub> = 1)</br>
* Стеклянная пластина: <b>d</b> = 1000 &mu;m (в статье в подписи под графиком описка: "m&mu;"), <b>n<sub>1</sub></b> = 2.5 </br>
* ХЖК-пластина: <b>d</b> = 20 шагов холестерической спирали, <b>шаг холестерической спирали</b> равен 0.42 &mu;m,
<b>&epsilon;<sub>&parallel;</sub></b> = 2.29,
<b>&epsilon;<sub>&perp;</sub></b> = 2.143 </br>
* Стеклянная пластина: <b>d</b> = 1000 &mu;m, <b>n<sub>2</sub></b> = 1.5</br>
* Нижняя среда: вакуум. </br>
График построен на интервале <b>длин волн</b>: 0.6 &mu;m - 0.65 &mu;m. 
 <table>
 <thead>
 <tr>
 <th width=100% style="background: #F08080;" colspan="2">Ставим задачу Прашкевичу</th>
 </tr>
 </thead
 <tbody>

 <tr>
 <td width=30%>переводим параметры Геворгяна в безразмерные:</td>

 <td>
выбираем длину обезразмеривания R<sup>*</sup> = 1 &mu;m.</br></br>

для верхней стеклянной пластины:</br>
<b>d</b> = 1000</br>
<b>&epsilon;</b> = n<sup>2</sup> = 2.5<sup>2</sup> = 6.25</br>
</br>

для холестерика: </br>
<b> &epsilon;</b> = <b> &epsilon;<sub>&parallel;</sub></b> = 2.29</br>
<b> &epsilon;<sub>&perp;</sub></b> = 2.143</br>
<b>d</b> = 20 &sdot; 0.42 = 8.4 </br>
<b>q</b> = 2&pi;/(шаг спирали) = 2&pi;/0.42 = 14.96</br></br>

для нижней стеклянной пластины:</br>
<b>d</b> = 1000</br>
<b>&epsilon;</b> = n<sup>2</sup> = 1.5<sup>2</sup> = 2.25</br>
</br>

для интервала оси абсцисс графика:</br>
<b>&lambda;<sub>0</sub></b> = 0.6</br>
<b>&lambda;<sub>1</sub></b> = 0.65
 </td>
 </tr>

 <tr>
 <td width=30%>окна <b>"параметры начальной среды"</b> и <b>"параметры конечной среды"</b></td>
 <td>
оставляем пустыми
 </td>
 </tr>
       
 <tr>
 <td width=30%>в окно <b>"параметры стопки пластин"</b> копируем:</td>

 <td>

<b>
1000 ; 
6.25
</b>
</br>


<b> 8.4 ; 
2.29 ; 
&sigma; ; 
&mu; ; 
2.143 ; 
&sigma;<sub>&perp;</sub> ; 
&mu;<sub>&perp;</sub> ; 
&phi;<sub>0</sub> ; 
14.96 ; 
&sigma;<sub>m</sub> ; 
&sigma;<sub>&perp;m</sub> </b> </br>


<b>
1000 ; 
2.25
</b>
</br>
 
 </td>
 </tr>

 <tr>
 <td width=30%> под графиком справа в окошке выбора <b>&lambda; / &omega;</b> выбираем как у Геворгяна:</td>
 <td>
 <b>&lambda;</b>
 </td>
 </tr>
 
 <tr>
 <td width=30%> в окно <b>&lambda; <sub>0</sub></b> вставляем как у Геворгяна:</td>
 <td>
 <b>0.6</b>
 </td>
 </tr>
 
 <tr>
 <td width=30%> в окно <b>&lambda; <sub>1</sub></b> вставляем как у Геворгяна:</td>
 <td>
 <b>0.65</b>
 </td>
 </tr>
 <tr>
 <td width=30%> в окно <b>"Количество точек на O<sub>x</sub>, шт"</b> вставляем значение:</td>
 <td>
 10000 (да, десять тысяч)
 </td>
 </tr>
 </tbody>
 </table>
В тех желтых коридорах, что рисует Прашкевич, наверняка можно найти место для кривых Геворгяна.
А может, Вы задали неправильные параметры...</br>
</br>

- Задача <a target="_blank" href="docs/1984_Gevorgyan.pdf">Геворгян (1984)</a> - самостоятельно, пожалуйста.</br>
</br>

- Задача <a target="_blank" href="docs/1983_perkovsky_p21.pdf">Перковский (1983), стр 21.</a> (график на стр.23)</br>
В статье
у Перковского есть рисунок "Рис.1" 
(с графиками коэффициента отражения) и текст к рисунку, из которого можно понять, что Перковский решал следующую задачу.</br>
* Верхняя среда: вакуум (n<sub>0</sub> = 1)</br>
* ХЖК-пластина:</br>
... <b>шаг холестерической спирали</b> равен 0.4 мкм,</br>
... толщина пластины <b>d</b> равна 20 шагов спирали,</br>
... &epsilon;<sub>&tau;</sub> = (&epsilon;<sub>&perp;</sub> + &epsilon;<sub>&parallel;</sub>) / 2 = 2.7225,</br>
... &delta; = (&epsilon;<sub>&perp;</sub> - &epsilon;<sub>&parallel;</sub>) /
(&epsilon;<sub>&perp;</sub> + &epsilon;<sub>&parallel;</sub>) = 0.05 (в статье в пояснении к формуле (4) в знаменателе описка "-").</br>
* Нижняя среда: вакуум. </br>
График построен на интервале <b>длин волн</b>: 0.63 мкм - 0.72 мкм. 
 <table>
 <thead>
 <tr>
 <th width=100% style="background: #F08080;" colspan="2">Ставим задачу Прашкевичу</th>
 </tr>
 </thead
 <tbody>

 <tr>
 <td width=30%>переводим параметры Перковского в безразмерные:</td>

 <td>
выбираем длину обезразмеривания R<sup>*</sup> = 1 мкм.</br></br>

для холестерика: </br>
<b> &epsilon;</b> = <b> &epsilon;<sub>&parallel;</sub></b> = &epsilon;<sub>&tau;</sub>&sdot;(1 - &delta;) = 2.586375</br>
<b> &epsilon;<sub>&perp;</sub></b> = &epsilon;<sub>&tau;</sub>&sdot;(1 + &delta;) = 2.858625</br>
<b>d</b> = 20 &sdot; 0.4 = 8 </br>
<b>q</b> = 2&pi;/(шаг спирали) = 15.707963268</br></br>

для интервала оси абсцисс графика:</br>
<b>&lambda;<sub>0</sub></b> = 0.63</br>
<b>&lambda;<sub>1</sub></b> = 0.72
 </td>
 </tr>

 <tr>
 <td width=30%>окна <b>"параметры начальной среды"</b> и <b>"параметры конечной среды"</b></td>
 <td>
оставляем пустыми
 </td>
 </tr>
       
 <tr>
 <td width=30%>в окно <b>"параметры стопки пластин"</b> копируем:</td>

 <td>
<b>8 ; 2.586375 ; ; ; 2.858625 ; ; ; ; 15.707963268</b>
 </td>
 </tr>

 <tr>
 <td width=30%> под графиком справа в окошке выбора <b>&lambda; / &omega;</b> выбираем как у Перковского:</td>
 <td>
 <b>&lambda;</b>
 </td>
 </tr>
 
 <tr>
 <td width=30%> в окно <b>&lambda; <sub>0</sub></b> вставляем как у Перковского:</td>
 <td>
 <b>0.63</b>
 </td>
 </tr>
 
 <tr>
 <td width=30%> в окно <b>&lambda; <sub>1</sub></b> вставляем как у Перковского:</td>
 <td>
 <b>0.72</b>
 </td>
 </tr>
 <tr>
 <td width=30%> в окно <b>"Количество точек на O<sub>x</sub>, шт"</b> вставляем значение:</td>
 <td>
 500
 </td>
 </tr>
 </tbody>
 </table>
Графики Прашкевича <b>T<sub>r</sub></b> и <b>T<sub>l</sub></b> идеально совпадают с графиками "1" и "2" на рис.1 статьи Перковского.</br>
</br>

4.6. <b>Слой Вохлера в скрещенных поляризаторах</b></br>
Описание задачи: просто поместим холестерик между поляризаторами и посмотрим, пройдет ли теперь через такую стопку свет (скопируем параметры из предыдущих задач, 
а под графиком оставим &omega; - она лучше чем &lambda;, она показывает периодичность зависимостей).</br>

 <table>
 <thead>
 <tr>
 <th width=100% style="background: #F08080;" colspan="2">Ставим задачу Прашкевичу</th>
 </tr>
 </thead
 <tbody>
 <tr>
 <td width=30%>в окно <b>"параметры стопки пластин"</b> копируем:</td>
 <td>

<b> 2 ; 
&epsilon; ; 
&sigma; ; 
&mu; ; 
&epsilon;<sub>&perp;</sub> ; 
10 ; 
&mu;<sub>&perp;</sub> ; 
&phi;<sub>0</sub> ; 
q ; 
&sigma;<sub>m</sub> ; 
&sigma;<sub>&perp;m</sub> </b> </br>



<b> 10 ; 
2 ; 
&sigma; ; 
&mu; ; 
3 ; 
&sigma;<sub>&perp;</sub> ; 
&mu;<sub>&perp;</sub> ; 
&phi;<sub>0</sub> ; 
6.283 ; 
&sigma;<sub>m</sub> ; 
&sigma;<sub>&perp;m</sub> </b> </br>

<b> 2 ; 
&epsilon; ; 
&sigma; ; 
&mu; ; 
&epsilon;<sub>&perp;</sub> ; 
10 ; 
&mu;<sub>&perp;</sub> ; 
0.5 ; 
q ; 
&sigma;<sub>m</sub> ; 
&sigma;<sub>&perp;m</sub> </b> </br>
 
 
 
 
 </td>
 </tr>


 </tbody>
 </table>
Посмотрите, что получится. Можно увеличить количество точек по абсциссе (N = 1000) и нажать на кнопку <b>"начать расчет"</b>.</br>
</br>
4.7. <b>"Из таблицы Эксель (Exel)" </b></br>
Попробуйте самостоятельно создать в Экселе (или в любом текстовом редакторе) табличку с параметрами стопки, скопировать и вставить сюда в окно <b>"параметры стопки пластин"</b>, 
но не забывайте про разделитель ";" между параметрами.</br>
</br>
<div style="background: #e1eca4;">
================( Прашкевич имеет право на ошибку )============================</br>
</div>
</body>
</html>



